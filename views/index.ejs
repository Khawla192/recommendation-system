<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/stylesheets/style.css" />
  <title>Recommindation System</title>
</head>

<body class="index-body">
  <%- include('./partials/_navbar.ejs') %>
    <div class="index-container">
      <div class="text-container">
        <h1 class="main-header">Recommindation System</h1>
        <p class="subheader">A Recommindation System for Laptops.</p>
      </div>
      <div class="auth-links">
        <a class="signup-link" href="/auth/sign-up">Sign Up</a>
        <a class="signin-link" href="/auth/sign-in">Sign In</a>
      </div>
    </div>
    <div class="container">
      <h1>Laptop Recommendations</h1>
      <% if (users.length === 0) { %>
        <p>No users have laptops yet.</p>
        <% } else { %>
          <div class="card-container">
            <% users.forEach(user => { %>
              <% if (user.laptops.length > 0) { %>
                <% user.laptops.forEach(laptop => { %>
                  <div class="card">
                    <img src="<%= laptop.images[0] %>" alt="<%= laptop.name %>" width="200">
                    <h3>
                      <%= laptop.brand %> - <%= laptop.name %>
                    </h3>
                    <a href="/showAll/<%= laptop._id %>">View Details</a>
                  </div>
                  <% }); %>
                    <% } else { %>
                      <p>
                        <%= user.username %> has no laptops listed.
                      </p>
                      <% } %>
                        <% }); %>
          </div>
        <% } %>
    </div>
</body>

</html>